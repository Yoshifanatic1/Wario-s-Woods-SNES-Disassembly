
%SPCDataBlockStart(0800)
SPC700_Engine:
	MOV $F4, #$00
	MOV $F5, #$00
	MOV A, #$33
	MOV Y, #$03
CODE_080A:
	CMPW YA, $F4
	BNE CODE_080A
	DI
	CLRP
	MOV X, #$FF
	MOV SP, X
	MOV A, $FD
	MOV A, $FE
	MOV A, $FF
	MOV X, #$00
CODE_081B:
	MOV A, X
	XCN A
	MOV $F2, A
	MOV Y, #$08
CODE_0821:
	MOV $F3, #$00
	INC $F2
	DEC Y
	BNE CODE_0821
	INC X
	CMP X, #$08
	BCC CODE_081B
	MOV A, #DATA_0870
	MOV X, #DATA_0870>>8
	CALL CODE_0887
	MOV $F1, #$31
	MOV A, #$00
	MOV Y, #$10
	MOV $02FC, A
	MOV $02FD, Y
	MOV $02FE, A
	MOV $02FF, Y
	MOV $0F, #$01
	MOV $10, #$01
	MOV $17, #$00
	MOV $18, #$2000
	MOV $19, #$2000>>8
	MOV $00, #$2000
	MOV $01, #$2000>>8
	MOV A, #$00
	MOV Y, #$00
CODE_0861:
	MOV ($00)+y, A
	DEC Y
	BNE CODE_0861
	INC $01
	CMP $01, #$FF
	BCC CODE_0861
	JMP CODE_089C

DATA_0870:
	db $0C,$7F,$1C,$7F,$2C,$00,$3C,$00,$5C,$00,$6C,$20,$2D,$00,$3D,$00
	db $5D,$02,$6D,$FF,$7D,$00,$FF

CODE_0887:
	MOV $00, A
	MOV $01, X
	MOV Y, #$00
CODE_088D:
	MOV A, ($00)+y
	BMI CODE_089B
	MOV $F2, A
	INC Y
	MOV A, ($00)+y
	MOV $F3, A
	INC Y
	BRA CODE_088D

CODE_089B:
	RET

CODE_089C:
	MOV $F4, #$77
	MOV $F5, #$07
CODE_08A2:
	CMP $F4, $0F
	BNE CODE_08A2
	MOV A, $F5
	MOV $F4, $F4
	INC $0F
	CMP A, #$08
	BCS CODE_08B7
	ASL A
	MOV X, A
	JMP (DATA_08B9-$02+x)

CODE_08B7:
	BRA CODE_08B7

DATA_08B9:
	dw CODE_0AA9
	dw CODE_0A14
	dw CODE_0A50
	dw CODE_0A04
	dw CODE_08C7
	dw CODE_09C5
	dw CODE_09F1

CODE_08C7:
	MOV $01, #$00
	MOV A, $17
	ASL A
	ROL $01
	ADC A, #$00
	MOV $00, A
	ADC $01, #$04
	MOV Y, #$00
	MOV X, $0F
CODE_08DA:
	CMP X, $F4
	BNE CODE_08DA
	MOV A, $F5
	MOV ($00)+y, A
	INC Y
	MOV A, $F6
	MOV ($00)+y, A
	MOV $F4, X
	INC X
	MOV $01, #$00
	MOV A, $17
	ASL A
	ROL $01
	ADC A, #$FE
	MOV $00, A
	ADC $01, #$04
	MOV $03, #$00
	MOV A, $17
	ASL A
	ROL $03
	ASL A
	ROL $03
	ADC A, #$FC
	MOV $02, A
	ADC $03, #$01
CODE_090B:
	CMP X, $F4
	BNE CODE_090B
	MOV $06, $F5
	MOV $07, $F6
	MOV $F4, X
	INC X
	MOVW YA, $06
	BEQ CODE_0989
	MOV Y, #$02
	MOV A, $06
	MOV ($00)+y, A
	INC Y
	MOV A, $07
	MOV ($00)+y, A
	MOV Y, #$04
	MOV A, $18
	MOV ($02)+y, A
	INC Y
	MOV A, $19
	MOV ($02)+y, A
	INC Y
CODE_0933:
	CMP X, $F4
	BNE CODE_0933
	CLRC
	MOV A, $18
	ADC A, $F5
	MOV ($02)+y, A
	INC Y
	MOV A, $19
	ADC A, $F6
	MOV ($02)+y, A
	MOV $F4, X
	INC X
CODE_0948:
	CMP X, $F4
	BNE CODE_0948
	MOV A, $F5
	SBC A, #$01
	MOV $04, A
	MOV A, $F6
	SBC A, #$00
	MOV $05, A
	MOV $F4, X
	INC X
	MOV $00, $18
	MOV $01, $19
	MOV Y, #$00
	CLRC
	ADC $18, $04
	ADC $19, $05
CODE_096A:
	CMP X, $F4
	BNE CODE_096A
	MOV A, $F5
	MOV ($00)+y, A
	INC Y
	MOV A, $F6
	MOV ($00)+y, A
	MOV $F4, X
	INC Y
	BNE CODE_097E
	INC $01
CODE_097E:
	INC X
	SBC $04, #$02
	SBC $05, #$00
	BCS CODE_096A
	BRA CODE_09BE

CODE_0989:
	MOV Y, #$00
	MOV A, ($00)+y
	MOV $06, A
	INC Y
	MOV A, ($00)+y
	MOV $07, A
	INC Y
	MOV A, $06
	MOV ($00)+y, A
	INC Y
	MOV A, $07
	MOV ($00)+y, A
	MOV Y, #$00
	MOV A, ($02)+y
	PUSH A
	INC Y
	MOV A, ($02)+y
	PUSH A
	INC Y
	MOV A, ($02)+y
	PUSH A
	INC Y
	MOV A, ($02)+y
	MOV Y, #$07
	MOV ($02)+y, A
	DEC Y
	POP A
	MOV ($02)+y, A
	DEC Y
	POP A
	MOV ($02)+y, A
	DEC Y
	POP A
	MOV ($02)+y, A
CODE_09BE:
	MOV $0F, X
	INC $17
	JMP CODE_08A2

CODE_09C5:
	MOV X, $0F
CODE_09C7:
	CMP X, $F4
	BNE CODE_09C7
	MOV A, $F5
	MOV $F4, X
	INC $0F
	MOV $17, A
	MOV $01, #$00
	ASL A
	ROL $01
	ASL A
	ROL $01
	ADC A, #$00
	MOV $00, A
	ADC $01, #$02
	MOV Y, #$00
	MOV A, ($00)+y
	MOV $18, A
	INC Y
	MOV A, ($00)+y
	MOV $19, A
	JMP CODE_08A2

CODE_09F1:
	MOV A, $0F
CODE_09F3:
	CMP A, $F4
	BNE CODE_09F3
	MOV $F2, #$5C
	MOV $F3, $F5
	MOV $F4, A
	INC $0F
	JMP CODE_08A2

CODE_0A04:
	MOV A, $0F
CODE_0A06:
	CMP A, $F4
	BNE CODE_0A06
	MOV $10, $F5
	MOV $F4, A
	INC $0F
	JMP CODE_08A2

CODE_0A14:
	MOV A, $0F
CODE_0A16:
	CMP A, $F4
	BNE CODE_0A16
	MOV X, $F5
	MOV Y, $F6
	MOV $F4, A
	INC $0F
	MOV $F2, #$72
	MOV $F3, X
	MOV $F2, #$73
	MOV $F3, Y
	MOV $14, #$00
	MOV $15, #$10
	MOV $16, #$00
	MOV $F2, #$5C
	OR $F3, #$80
	MOV A, #DATA_0A45
	MOV X, #DATA_0A45>>8
	CALL CODE_0887
	JMP CODE_08A2

DATA_0A45:
	db $74,$3F,$75,$FF,$76,$E0,$70,$7F,$71,$7F,$FF

CODE_0A50:
	MOV $04, #$0C
	MOV Y, #$00
CODE_0A55:
	MOV $05, #$03
CODE_0A58:
	CMP $F4, $0F
	BNE CODE_0A58
	MOV $06, $F7
	MOV X, $F6
	MOV A, $F5
	MOV $F4, $0F
	INC $0F
	MOV ($14)+y, A
	INC Y
	MOV A, X
	MOV ($14)+y, A
	INC Y
	MOV A, $06
	MOV ($14)+y, A
	INC Y
	DBNZ $05, CODE_0A58
	MOV Y, #$00
	MOV A, ($14)+y
	LSR A
	BCC CODE_0A8A
	LSR A
	BCC CODE_0AA6
	MOV $14, #$00
	MOV $15, #$10
	BRA CODE_0A91

CODE_0A8A:
	CLRC
	ADC $14, #$09
	ADC $15, #$00
CODE_0A91:
	DBNZ $04, CODE_0A55
	BBS0 $16, CODE_0AA6
	MOV $16, #$01
	MOV $F2, #$5C
	AND $F3, #$7F
	MOV $F2, #$4C
	OR $F3, #$80
CODE_0AA6:
	JMP CODE_08A2

CODE_0AA9:
	CMP $F4, $0F
	BNE CODE_0AA9
	MOV $04, $F5
	MOV $F4, $F4
	INC $0F
	MOV X, #$00
CODE_0AB8:
	CMP $F4, $0F
	BNE CODE_0AB8
	MOVW YA, $F5
	MOV $F4, $F4
	INC $0F
	MOV $0100+x, A
	MOV A, Y
	MOV $0101+x, A
	INC X
	INC X
	CMP X, $04
	BCC CODE_0AB8
	MOV $00, #$00
	MOV $01, #$01
	MOV Y, #$00
	MOV $12, Y
	MOV $13, Y
CODE_0ADD:
	MOV A, ($00)+y
	INC Y
	CMP A, #$F0
	BCC CODE_0AFE
	CMP A, #$FF
	BNE CODE_0AF7
	MOV $F2, #$4C
	MOV $F3, $12
	MOV $F2, #$5C
	MOV $F3, $13
	JMP CODE_08A2

CODE_0AF7:
	SETC
	SBC A, #$F0
	MOV $11, A
	BRA CODE_0ADD

CODE_0AFE:
	ASL A
	MOV X, A
	JMP (DATA_0B03+x)

DATA_0B03:
	dw CODE_0B13
	dw CODE_0C4D
	dw CODE_0C8C
	dw CODE_0C97
	dw CODE_0CA2
	dw CODE_0CD7
	dw CODE_0D30
	dw CODE_0D3E

CODE_0B13:
	MOV X, $11
	MOV A, DATA_0CCF+x
	MOV $F2, A
	MOV A, $F3
	ASL A
	MOV X, A
	MOV A, $0500+x
	MOV $04, A
	MOV A, $0501+x
	MOV $05, A
	MOV A, ($00)+y
	MOV $06, A
	INC Y
	MOV A, ($00)+y
	MOV $07, A
	INC Y
	PUSH Y
	ASL A
	MOV Y, A
	MOV A, DATA_0B9B+y
	MOV $08, A
	MOV A, DATA_0B9B+$01+y
	MOV $09, A
	MOV A, DATA_0B9B+$03+y
	PUSH A
	MOV A, DATA_0B9B+$02+y
	POP Y
	SUBW YA, $08
	PUSH Y
	MOV Y, $06
	MUL YA
	MOV $0A, Y
	MOV $0B, #$00
	POP Y
	MOV A, $06
	MUL YA
	ADDW YA, $0A
	ADDW YA, $08
	MOVW $08, YA
	MOV Y, $04
	MUL YA
	MOV $0A, Y
	MOV $0B, #$00
	MOV A, $08
	MOV Y, $05
	MUL YA
	ADDW YA, $0A
	MOVW $0A, YA
	MOV A, $09
	MOV Y, $04
	MUL YA
	ADDW YA, $0A
	MOVW $0A, YA
	MOV A, $09
	MOV Y, $05
	MUL YA
	CLRC
	ADC A, $0B
	MOV $0B, A
	MOV X, $11
	MOV A, DATA_0B93+x
	MOV $F2, A
	MOV $F3, $0A
	INC $F2
	MOV $F3, $0B
	POP Y
	JMP CODE_0ADD

DATA_0B93:
	db $02,$12,$22,$32,$42,$52,$62,$72

DATA_0B9B:
	dw $0070,$0077,$007E,$0085,$008D,$0096,$009F,$00A8
	dw $00B2,$00BD,$00C8,$00D4,$00E1,$00EE,$00FC,$010B
	dw $011B,$012C,$013E,$0151,$0165,$017A,$0191,$01A8
	dw $01C2,$01DC,$01F9,$0217,$0237,$0258,$027C,$02A2
	dw $02CA,$02F5,$0322,$0351,$0384,$03B9,$03F2,$042E
	dw $046E,$04B1,$04F9,$0544,$0595,$05EA,$0644,$06A3
	dw $0708,$0773,$07E4,$085D,$08DC,$0963,$09F2,$0A89
	dw $0B2A,$0BD4,$0C88,$0D46,$0E10,$0EE7,$0FC9,$10BA
	dw $11B8,$12C6,$13E4,$1513,$1654,$17A8,$1910,$1A8D
	dw $1C21,$1DCE,$1F93,$2174,$2371,$258D,$27C9,$2A26
	dw $2CA8,$2F50,$3220,$351B,$3843,$3B9C,$3F27,$42E9
	dw $0000

CODE_0C4D:
	MOV A, ($00)+y
	MOV X, $10
	BNE CODE_0C55
	MOV A, #$80
CODE_0C55:
	MOV $04, A
	INC Y
	MOV A, ($00)+y
	MOV $05, A
	INC Y
	PUSH Y
	MOV Y, A
	MOV X, $11
	MOV A, DATA_0C84+x
	MOV $F2, A
	MOV A, $04
	EOR A, #$FF
	INC A
	BEQ CODE_0C6E
	MUL YA
CODE_0C6E:
	MOV A, Y
	LSR A
	MOV $F3, A
	INC $F2
	MOV Y, $05
	MOV A, $04
	INC A
	BEQ CODE_0C7C
	MUL YA
CODE_0C7C:
	MOV A, Y
	LSR A
	MOV $F3, A
	POP Y
	JMP CODE_0ADD

DATA_0C84:
	db $00,$10,$20,$30,$40,$50,$60,$70

CODE_0C8C:
	MOV X, $11
	MOV A, DATA_0D4E+x
	TSET $0012, A
	JMP CODE_0ADD

CODE_0C97:
	MOV X, $11
	MOV A, DATA_0D4E+x
	TSET $0013, A
	JMP CODE_0ADD

CODE_0CA2:
	MOV X, $11
	MOV A, DATA_0CCF+x
	MOV $F2, A
	MOV A, ($00)+y
	MOV $F3, A
	INC Y
	PUSH Y
	MOV $03, #$00
	ASL A
	ROL $03
	ADC A, #$00
	MOV $02, A
	ADC $03, #$04
	MOV Y, #$00
	INC $F2
	MOV A, ($02)+y
	MOV $F3, A
	INC Y
	INC $F2
	MOV A, ($02)+y
	MOV $F3, A
	POP Y
	JMP CODE_0ADD

DATA_0CCF:
	db $04,$14,$24,$34,$44,$54,$64,$74

CODE_0CD7:
	MOV $F2, #$4D
	MOV A, ($00)+y
	MOV $F3, A
	INC Y
	MOV $F2, #$7D
	MOV A, ($00)+y
	MOV $F3, A
	INC Y
	MOV $F2, #$6D
	ASL A
	ASL A
	ASL A
	MOV $04, A
	MOV A, #$FF
	SETC
	SBC A, $04
	MOV $F3, A
	MOV $F2, #$0D
	MOV A, ($00)+y
	MOV $F3, A
	INC Y
	MOV $F2, #$0F
	MOV A, ($00)+y
	INC Y
	ASL A
	ASL A
	ASL A
	MOV X, A
	PUSH Y
	MOV Y, #$08
	CLRC
CODE_0D0C:
	MOV A, DATA_0D20+x
	MOV $F3, A
	ADC $F2, #$10
	INC X
	DBNZ Y, CODE_0D0C
	POP Y
	MOV $F2, #$6C
	CLR5 $F3
	JMP CODE_0ADD

DATA_0D20:
	db $7F,$00,$00,$00,$00,$00,$00,$00,$FF,$08,$17,$24,$24,$17,$08,$FF

CODE_0D30:
	MOV $F2, #$6C
	SET5 $F3
	MOV $F2, #$4D
	MOV $F3, #$00
	JMP CODE_0ADD

CODE_0D3E:
	MOV A, ($00)+y
	INC Y
	MOV $F2, #$2C
	MOV $F3, A
	MOV $F2, #$3C
	MOV $F3, A
	JMP CODE_0ADD

DATA_0D4E:
	db $01,$02,$04,$08,$10,$20,$40,$80
%SPCDataBlockEnd(0800)

%EndSPCUploadAndJumpToEngine(SPC700_Engine)
